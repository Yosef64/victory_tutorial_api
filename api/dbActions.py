
from nanoid import generate
from .db import db
from datetime import datetime
userInfo_ref = db.collection("Agents").document("agentInfo")
userStat_ref = db.collection("Agents").document("agentStat")
payment_ref = db.collection("paymentReq")
session_ref = db.collection("session")

def registerAgent(userInfo,referal):
    agentStat = {"ownStud":0,"agentStud":0,"parent":str(referal),"timestamp":[],"totalAmount":0}
    userReferal = generate(size=10)
    userInfo_ref.update({userReferal:userInfo})
    userStat_ref.update({userReferal:agentStat})


def addSession(tele_id,referal):
    ref = session_ref.document(tele_id)
    if ref.get().exists:
        return
    ref.set({"referal":referal})
    
def getSession(tele_id):
    ref = session_ref.document(tele_id).get()
    if ref.exists:
        return ref.get()["referal"]
    return ""
    
    
intro_text = """­ЪјЅWell Come to Victory Agent system

Victory official channel­ЪЉЄ
https://t.me/VictoryTutor_7

ріерЅ░рѕЏрѕфрІјрЅ╗рЅйріЋ рІерЅ░рѕ░рїА ріарѕхрЅ░рІФрІерЅХрЅй­ЪЉЄ
https://t.me/victorystcom_7

рІеvictory team рѕѕрѕЏріЊрїѕрѕГ­ЪЉЄ
@VICTORY_TUTOR_TEAMS

рІерЅхрѕЮрѕЁрѕГрЅ▒ріЋ ріарѕ░рїБрЅх Sample рѕѕрѕЏрІерЅх­ЪЉЄ
https://t.me/VictorySample7


­ЪїЪрІеріцрїђріЋрЅх рѕ▓рѕхрЅ░рѕЮ ріарѕ░рѕФрѕГ ріЦріЊ рІеріаріерЇІрЇѕрѕЇ рѕЂріћрЅ│
РюеріаріЋрІх рІерЅфріГрЅхрѕф ріцрїђріЋрЅх рЅарѕўрѕєріЋ рѕўрѕхрѕФрЅх рІерѕџрЇѕрѕЇрїЇ рѕ░рІЇ рЅарѕўрїђрѕўрѕГрІФ рѕхрѕѕ рЅфріГрЅхрѕф ріЦріЊ рѕхрѕѕрѕџрѕ░рїБрЅИрІЇ ріарїѕрѕЇрїЇрѕјрЅХрЅй рїаріЋрЅЁрЅє рѕЏрІѕрЅЁ рІГріќрѕГрЅарЅ│рѕЇрЇб

РюерЅарѕўрѕєріЉрѕЮ рѕѕрЅ░рѕЏрѕфрІјрЅ╗рЅйріЋ рѕхрѕѕрѕЮріЋрѕ░рїарІЇ ріарїѕрѕЇрїЇрѕјрЅх рІерЅ░рЅђрѕўрїарІЇріЋ ріарїГрѕГ рІХріГрѕўріЋрЅх ріаріЋрЅЦрЅд рѕўрѕерІ│рЅх рІГріќрѕГрЅЦрѕГрЅ│рѕЇрЇб

РюеріаріЋрІх рѕ░рІЇ ріцрїђріЋрЅх рѕєріќ ріерѕўрѕўрІЮрїѕрЅА рЅарЇірЅх рѕхрѕФрІЇріЋ рѕѕрѕўрѕхрѕФрЅх рІерѕџрІФрѕхрЅйрѕЇ рЅЦрЅЃрЅх рІѕрІГрѕЮ рЇЇрѕІрїјрЅх ріЦріЊ рЅЦрІЏрЅх рЅ░рѕЏрѕфрІјрЅйріЋ рѕЏрїЇріўрЅх ріЦріЋрІ░рѕџрЅйрѕЇ ріЦрѕФрѕ▒ріЋ рѕўрѕѕрІерЅх рІГріќрѕГрЅарЅ│рѕЇрЇб

РюерІГрѕЁріЋріЋ рѕхрѕФ рЅарЅ░рѕ╗рѕѕ рѕЂріћрЅ│ рѕѕрѕўрѕхрѕФрЅх рЅ░рѕЏрѕфрЇБ рѕўрѕЮрѕЁрѕГ рЅарЅ░рѕѕрІФрІЕ рѕЏрѕЁрЅарѕФрІі рїѕрЇєрЅй рѕІрІГ ріЦріЋрЅЁрѕхрЅЃрѕ┤рІјрЅй рІерѕџрІФрІ░рѕГрїЇ рѕ▓рѕєріљ ріарѕЇрІФрѕЮ potential market-ріАріЋ рІерѕџрІФрїѕріЮ рѕірѕєріЋ рІГрїѕрЅБрѕЇрЇб


  ­ЪїЪрІеріарѕ░рѕФрѕГ рЅЁрІ░рѕЮ рЅ░ріерЅ░рѕјрЅй
1№ИЈРЃБріаріЋрІх рѕ░рІЇ рІерЅхрѕЮрѕЁрѕГрЅх ріарѕ░рїБрїАріЋ рІХріГрѕўріЋрЅх рЅарІ░ріЋрЅЦ ріФріљрЅарЅа рЅаріІрѕІ bot-ріАріЋ рЅарѕўрїарЅђрѕЮ рѕхрѕЎріЋ ріЦріЊ ріаріФрІЇріЋрЅ▒ріЋ рїерѕЮрѕ« рѕЎрѕЅ рІерѕџрїарІерЅђрІЇріЋ рѕўрѕерїЃрІјрЅй рІФрѕхрѕўрІўрїЇрЅБрѕЇрЇб

РюерІГрѕЁ рѕЎрѕЅ рѕўрѕерїЃ рІѕрІ░ рѕўрѕерїЃ рЅІрЅ│рЅйріЋ (database) рЅарѕўрѕёрІх рІГрЅђрѕўрїБрѕЇрЇб рЅарѕўрЅђрїарѕЇрѕЮ рІерЅ░рѕўрІўрїѕрЅарІЇріЋ ріцрїђріЋрЅх рѕЮріЋ рІФріГрѕЇ рЅ░рѕЏрѕф ріЦріЋрІ│рѕхрѕўрІўрїѕрЅа рЇБ рЅарѕхрѕЕ рѕЮріЋ рІФрѕЁрѕЇ ріцрїђріЋрЅх ріЦріЋрІ│рѕѕрЇБ рѕЮріЋ рІФрѕЁрѕЇ рЅЦрѕГ ріЦріЋрІ│рѕѕрІЇ ріЦріЊ рѕЮріЋ рІФріГрѕЇ ріЦріЋрІ│рІѕрїБ ріЦрІФріЋрІ│ріЋрІ▒ріЋ ріљрїѕрѕГ рЅарѕ░рѕФріљрІЇ рѕ▓рѕхрЅ░рѕЮ рѕЎрѕЅ рІерѕЮріЋрЅєрїБрїарѕерІЇ (track) рІерѕЮріЊрІ░рѕГрїѕрІЇ рІГрѕєріЊрѕЇрЇб

2№ИЈРЃБ рІГрѕЁріЋріЋ рѕѓрІ░рЅх ріФрїаріЊрЅђрЅђ рЅаріІрѕІ РђюрІе Referal link рѕѕрѕЏрїЇріўрЅх РђЮ рІерѕџрѕѕрІЇріЋ рЅарѕўріЋріФрЅх рІерѕФрѕ▒ріЋ link рІГрѕ░рїарІІрѕЇрЇб рІГрѕЁріЋріЋ link рЅарѕўрІФрІЮ рЅ░рѕЏрѕфрІјрЅйріЋ ріЦрІФріЊрїѕрѕе рЅарѕ▒ рѕіріЋріГ рЅ░рѕЏрѕфрІјрЅй ріЦріЋрІ▓рїѕрЅА рІФрІ░рѕГрїІрѕЇрЇц рЅа social media рІерѕџрѕ░рѕФрѕЮ ріерѕєріљ рІ░рїЇрѕъ рѕЏрѕхрЅ│рІѕрЅЁрІФрІјрЅйріЋ ріЦрІерѕ░рѕФ link-ріАріЋ рЅарѕЏрѕхрЅђрѕўрїЦ рЅ░рѕЏрѕфрІјрЅй ріЦріЋрІ▓рѕўрІўрїѕрЅА рІФрІ░рѕГрїІрѕЇрЇб

РюерІГрѕё link┬а рІерѕџрѕўрІўрїѕрЅА рЅ░рѕЏрѕфрІјрЅйріЋ рІѕрІ░ рЅ░рѕЏрѕфрІјрЅй рѕўрѕўрІЮрїѕрЅЦрІФ Bot рІерѕџрІѕрѕхрІ│рЅИрІЇ рѕ▓рѕєріЋ рЅ░рѕЏрѕфрІјрЅ╣ рѕЇріГ рЅ░рѕўрІЮрїЇрЅарІЇ Approval ріЦріЋрІ│рїѕріЎ рѕѕріцрїђріЋрЅ▒ рѕ▓рѕхрЅ░рѕЎ рѕФрѕ▒ рЅарѕ▒ link рІерЅ░рѕўрІўрїѕрЅарІЇріЋ рЅ░рѕЏрѕф screensoot ріЦріЊ Approval рІерѕџрѕЇріГрѕѕрЅх рѕ▓рѕєріЋ рІерЅ░рѕўрІўрїѕрЅарІЇ рЅ░рѕЏрѕф рѕхріЋрЅ░ріЏрІЇ ріЦріЋрІ░рѕєріљ рІГрїѕрѕЇрЇЁрѕѕрЅ│рѕЇрЇб

РюерЅЦрѕГ рѕѕрѕЏрІЇрїБрЅх рѕ▓рЇѕрѕЇрїЇ РђюрЅЦрѕГ рѕѕрѕЏрІЇрїБрЅхРђЮ рІерѕџрѕѕрІЇріЋ рЅарѕўріЋріФрЅх рІГрїарІГрЅЃрѕЇрЇбріЦріЏрѕЮ рІФрѕхрѕўрІўрїѕрЅарІЇріЋ рЅ░рѕЏрѕф рЅЦрІЏрЅх рЅарѕўрЅХ рЅарѕЏрЅБрІЏрЅх рЅБрѕхрѕўрІўрїѕрЅарІЇ рЅБріЋріГ ріаріФрІЇріЋрЅх рІерѕЮріЋрѕЇріГрѕѕрЅх рІГрѕєріЊрѕЇрЇб

3№ИЈРЃБріаріЋрІх ріцрїђріЋрЅх рЅарѕхрѕЕ 2 рЅ░рѕЏрѕф ріФрѕхрїѕрЅБ рЅаріІрѕІ рІеріцрїђріЋрЅх Referral link рІерѕџрѕѕрІЇріЋ рЅарѕўріЋріФрЅх рІеріцрїђріЋрЅх refrral link рѕЏрїЇріўрЅх рІГрЅйрѕІрѕЇрЇб рІерІџрѕЁ рІІріљріЏрІЇ рѕхрѕФ рІІріЊрІЇ ріцрїђріЋрЅх рЅарѕхрѕЕ рѕїрѕјрЅй ріцрїђріЋрЅХрЅйріЋ рЅарѕўрѕўрѕЇрѕўрѕЇ ріЦріљрІЏ ріцрїђріЋрЅХрЅй рЅ░рѕЏрѕфрІјрЅйріЋ рѕ▓рІФрѕхрїѕрЅА рІІріЊрІЇ ріцрїђріЋрЅх ріеріЦрІФріЋрІ│ріЋрІ▒ ріцрїђріЋрЅх рЅБрѕхрїѕрЅАрЅх рІерЅ░рѕЏрѕф рѕЇріГ рЅа25 рЅЦрѕГ рЅарѕЏрЅБрІЏрЅх рІерѕџрІФрїѕріЮ рѕ▓рѕєріЋ рЇб

РюерЅарѕхрѕЕ рІФрѕЅ ріцрїђріЋрЅХрЅй рїЇріЋ рѕЇріГ ріЦріЋрІ░рЅ░рѕѕрѕўрІ░рІЇ рІе 100 рЅЦрѕГ ріГрЇЇрІФ рЅБрѕхрїѕрЅАрЅх рЅ░рѕЏрѕф рЅ░рЅБрІЮрЅХ ріГрЇЇрІФрІЇріЋ рІФрїѕріЏрѕЅрЇб

РюеріаріЋрІх ріцрїђріЋрЅх рІеріцрїђріЋрЅх link рЅбрІФрІѕрїБ рЅ░рѕўрѕФрїГ рІерѕџрѕєріљрІЇ рЅЦрІЎ рЅ░рѕЏрѕфрІјрЅйріЋ рІерѕџрІФрїѕріЮрЅарЅх рІерѕхрѕФ рІўрѕГрЇЇ рІЇрѕхрїЦ ріФрѕѕ ріЦріЊ рІерЅх/рЅцрЅх рЅ░рѕЏрѕфрІјрЅй ріерѕГрѕ▒ рїІрѕГ ріцрїђріЋрЅх рѕєріљрІЇ рѕѕрѕўрѕхрѕФрЅх рЇЇрЅЃрІ░ріЏ ріерѕєріЉ ріљрІЇрЇб

РюерЅаріцрїђріЋрЅх рѕхрѕГ рІерѕџрїѕрЅБ ріцрїђріЋрЅх рЅЦрІЎ рЅ░рѕЏрѕфрІјрЅй ріЦріЋрІ▓рІФрѕхрїѕрЅБ рЅарЅ░рЅ╗рѕѕ рѕўрїаріЋ рІе 11 ріарѕЇрІФрѕЮ рІе 12ріЏ ріГрЇЇрѕЇ рІе social рІѕрІГрѕЮ┬а Natural рЅ░рѕЏрѕф рѕўрѕєріЋ рІГрїарЅарЅЁрЅарЅ│рѕЇрЇб

РюеріаріЋрІх ріцрїђріЋрЅх ріерѕ▒ рѕхрѕГ ріцрїђріЋрЅх ріЦріЋрІ▓рѕўрІўрїѕрЅЦ рѕ▓рЇѕрѕЇрїЇ рѕЂрѕѕрЅх рЅ░рѕЏрѕф рЅЁрІхрѕџрІФ рѕЏрѕхрѕўрІЮрїѕрЅЦ рІГріќрѕГрЅарЅ│рѕЇрЇб рЅарѕўрЅђрїарѕЇ link-ріАріЋ ріФрїѕріў рЅаріІрѕІ рЅарѕхрѕЕ рѕѕрІЏрІЇ ріцрїђріЋрЅх рѕ▓рѕЇріГрѕѕрЅх ріарІ▓рѕ▒ріЋ ріцрїђріЋрЅх рЅарЅђрїЦрЅ│ рІѕрІ░ рѕўрѕўрІЮрїѕрЅЦрІФ Bot рІерѕџрІѕрѕхрІ░рІЇ рІГрѕєріЊрѕЇрЇб

РюеріарІ▓рѕ▒ ріцрїђріЋрЅх ріерЅ░рѕўрІўрїѕрЅа рЅаріІрѕІ рІерѕФрѕ▒ріЋ referral link рЅарѕўрІЇрѕ░рІх рЅ░рѕЏрѕфрІјрЅй ріЦріЋрІ▓рѕўрІўрїѕрЅА рѕ▓рІФрІ░рѕГрїЇ рѕѕрѕФрѕ▒рѕЮ рѕѕрѕўрїђрѕўрѕГрІФрІЇрѕЮ ріцрїђріЋрЅх рІерѕџрЅєрѕГрїЦрѕѕрЅх рІГрѕєріЊрѕЇрЇб

рѕЏрѕ│рѕ░рЅЦрІФрЇд рѕЂрѕѕрЅ░ріЏрІЇ ріцрїђріЋрЅх рЅарѕхрѕЕ рѕХрѕхрЅ░ріЏ ріцрїђріЋрЅх рЅбрІФрѕхрїѕрЅБ рѕХрѕхрЅ░ріЏрІЇ рІерѕџрІФрѕўрїБрІЇ рЅ░рѕЏрѕф рѕѕрѕФрѕ▒ ріЦріЊ рѕѕрѕЂрѕѕрЅ░ріЏрІЇ ріцрїђріЋрЅх рЅЦрЅ╗ рЅЦрѕГ рІерѕџрІФрїѕріЮ рІГрѕєріЊрѕЇ рЇб

РюерЅарІџріЏрІЇрѕЮ рѕѓрІ░рЅх рІерѕўрїђрѕўрѕГрІФрІЇ ріцрїђріЋрЅх рѕЮріЋрѕЮ рЅЦрѕГ рІерѕЏрІГріерЇѕрѕѕрІЇ рѕўрѕєріЉріЋ рѕѕрѕўрїЇрѕѕрЇЁ ріЦріЋрІѕрІ│рѕѕріЋрЇб

рІеріцрїђріЋрЅх рЅдрЅх рѕѕріцрїђріЋрЅ▒ рѕЏрІерЅх рІерѕџрЇѕрѕЇрїІрЅИрІЇріЋ рІЮрѕГрІЮрѕ«рЅй рІФрЅђрЇѕ рЅарѕўрѕєріЉ рЅарІерїірІюрІЇ ріЦрІерїѕрЅБ check рѕЏрІхрѕерїЇ рІГрЅйрѕІрѕЇрЇб"""